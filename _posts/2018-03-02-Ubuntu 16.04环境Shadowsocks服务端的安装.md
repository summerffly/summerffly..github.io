---
layout: post
title: Ubuntu 16.04环境Shadowsocks服务端的安装
date: 2018-03-02
tags: Shadowsocks
---

系统环境：Ubuntu 16.04 x86 / pyhton 2.7.12

### 更新软件源

```
sudo apt-get update
sudo apt-get upgrade
```

　在Windows下安装软件，我们只需exe文件，但是在Linux下可不是这样的，每个Linux的发行版都会维护自己的软件仓库，我们常用的所有软件几乎都在这里，这里的软件绝对安全，RedHat系列Linux发行版的 `yum` 和Debian系列Linux发行版的 `apt-get` 就是最常用获取软件的包管理工具

　Ubuntu系统会在本地维护一个软件源列表，记录软件仓库中的可用软件和相应版本，通过 `apt-get update`，可以更新本地的软件源列表，`apt-get upgrade` 这个命令会把本地已安装的软件，也软件源列表中的软件版本进行逐一对比，如果已安装的软件版本太低，就会提示更新

### 安装pip环境

```
sudo apt-get install python-pip
```

　用 `apt-get install` 命令安装pip，pip是一款常用的python包管理工具，也是Python官方建议的包安装工具，主要是用于安装PyPI上的软件包，功能强大

### 升级pip

```
sudo pip install --upgrade pip
```

### 安装Shadowsocks

```
sudo pip install shadowsocks
```

　用 `pip install` 命令安装Shadowsocks

### 编辑配置文件

```
sudo vim /etc/shadowsocks.json
```

　用强大的文本编辑器vim打开Shadowsocks配置文件，并添加以下配置，`"your_server_ip"` 和 `"your_password"` 需要换成你自己的地址和密码

```
{
    "server":"your_server_ip",
    "server_port":8388,
    "local_address": "127.0.0.1",
    "local_port":1080,
    "password":"your_password",
    "timeout":300,
    "method":"aes-256-cfb"
}
```

### 赋予文件权限

```
chmod 755 /etc/shadowsocks.json
```

　`chmod` 命令用来变更文件或目录的权限，后面的数字表示不同用户或用户组的权限：
　
> - 第一个数字 >> [文件所有者] 的权限
> 
> - 第二个数字 >> [与文件所有者同属一个用户组的其他用户] 的权限
>
> - 第三个数字 >> [其它用户组] 的权限

　权限分为三种：读（r=4），写（w=2），执行（x=1），综合起来还有可读可执行（rx=5=4+1）、可读可写（rw=6=4+2）、可读可写可执行(rwx=7=4+2+1)，所以 `chmod 755` 设置用户的权限为：
 
> - [文件所有者] 可读可写可执行 --7
> 
> - [与文件所有者同属一个用户组的其他用户] 可读可执行 --5
> 
> - [其它用户组] 可读可执行 --5

### 安装加密模块

```
apt-get install python–m2crypto
```

　这一步目前在Ubuntu环境下已经不需要，用来支持Shadowsocks的加密模块libcrypto已经被内置在Ubuntu 16.04系统中

### 开始运行Shadowsocks

```
ssserver -c /etc/shadowsocks.json -d start
```

　大功告成 :)

