---
layout: post
title: Ubuntu 18.04环境Shadowsocks服务端的安装
date: 2018-12-12
tags: Shadowsocks
---

　系统环境：Ubuntu 18.04 LTS x64 / pyhton 3.6.7

　BLOG中已经写过Ubuntu 16.04环境Shadowsocks服务端的安装，随着Ubuntu版本更新到Ubuntu 18.04 LTS，虽然Shadowsocks总的安装流程没有变化，但是之前的方法已经不能按步照班

### 更新软件源

```
sudo apt-get update
sudo apt-get upgrade
```

### 安装pip3

```
sudo apt-get install python3-pip
```

　Ubuntu 16.04中内置的python版本还是2.7，Ubuntu 18.04 LTS中内置的python版本已经更新到了3.6，因此不再安装pip，而是安装更为强大的pip3

### 安装Shadowsocks

```
sudo pip3 install http://github.com/shadowsocks/shadowsocks/archive/master.zip
```

　通过pip3直接从github中安装最新的版本，安装完后检查是否为3.0.0版本

　这一步可能会报错`Command “python setup.py egg_info” failed with error code 1 in /tmp/pip-build-7uglwoqt/shadowsocks/`，原因是Python的包管理工具setuptools已经过期，可以先执行`sudo pip3 install —upgrade setuptools`，更新setuptools来解决报错

### 编辑配置文件

```
sudo vim /etc/shadowsocks.json
```

　用vim打开Shadowsocks配置文件，并添加以下配置，`"your_server_ip"` 和 `"your_password"` 需要换成你自己的地址和密码

```
{
    "server":"your_server_ip",
    "server_port":8388,
    "local_address": "127.0.0.1",
    "local_port":1080,
    "password":"your_password",
    "timeout":300,
    "method":"aes-256-cfb"
}
```

### 赋予文件权限

```
chmod 755 /etc/shadowsocks.json
```

　`chmod` 命令用来变更文件或目录的权限，后面的数字表示不同用户或用户组的权限：
　
> - 第一个数字 >> [文件所有者] 的权限
> 
> - 第二个数字 >> [与文件所有者同属一个用户组的其他用户] 的权限
>
> - 第三个数字 >> [其它用户组] 的权限

　权限分为三种：读（r=4），写（w=2），执行（x=1），综合起来还有可读可执行（rx=5=4+1）、可读可写（rw=6=4+2）、可读可写可执行(rwx=7=4+2+1)，所以 `chmod 755` 设置用户的权限为：
 
> - [文件所有者] 可读可写可执行 --7
> 
> - [与文件所有者同属一个用户组的其他用户] 可读可执行 --5
> 
> - [其它用户组] 可读可执行 --5

### 开始运行Shadowsocks

```
ssserver -c /etc/shadowsocks.json -d start
```

　大功告成 :)

